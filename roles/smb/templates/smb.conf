# Do not edit. Generated by ansible.
[global]
   workgroup = WORKGROUP
   dns proxy = no
   log file = /var/log/samba/%m.log
   max log size = 1000
   client min protocol = SMB2
   server role = standalone server
   passdb backend = tdbsam
   obey pam restrictions = yes
   unix password sync = yes
   passwd program = /usr/bin/passwd %u
   passwd chat = *New*UNIX*password* %n\n *ReType*new*UNIX*password* %n\n *passwd:*all*authentication*tokens*updated*successfully*
   pam password change = yes
   map to guest = Bad Password
   usershare allow guests = yes
   name resolve order = lmhosts bcast host wins
   security = user
   guest account = nobody
   usershare path = /var/lib/samba/usershare
   usershare max shares = 100
   usershare owner only = false
   force create mode = 0070
   force directory mode = 0070
   load printers = no
   printing = bsd
   printcap name = /dev/null
   disable spoolss = yes
   show add printer wizard = no
   ##################################################
   # custom stuff here
   ##################################################
   # only show stuff users have access to
   access based share enum = yes

# [homes]
#    comment = Home Directories
#    browseable = no
#    read only = yes
#    create mask = 0700
#    directory mask = 0700
#    valid users = %S

# [printers]
#    comment = All Printers
#    browseable = no
#    path = /var/spool/samba
#    printable = yes
#    guest ok = no
#    read only = yes
#    create mask = 0700

# [print$]
#    comment = Printer Drivers
#    path = /var/lib/samba/printers
#    browseable = yes
#    read only = yes
#    guest ok = no

# restrict service discovery to local net
[IPC$]
   hosts allow = 192.168.0. 127.0.0.1
   hosts deny = 0.0.0.0/0rebo

# shares
{% for share in shareList %}
[{{share.name}}]
   comment = {{share.name}}
   path = {{share.path}}
   valid users = {{share.read}}
   read list = {{share.read}}
   write list = {{share.write}}
   guest ok = no
{% endfor %}
